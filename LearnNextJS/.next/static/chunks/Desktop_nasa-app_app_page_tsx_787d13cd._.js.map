{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/simo/Desktop/nasa-app/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport { NasaAPODData } from \"./lib/types\";\r\n\r\nexport default function Home() {\r\n  const today = new Date().toISOString().split(\"T\")[0];\r\n  const [date, setDate] = useState<string>(today);\r\n  const [data, setData] = useState<NasaAPODData | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!date) return;\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    fetch(`/api?date=${date}`)\r\n      .then(res => res.json())\r\n      .then((json: NasaAPODData) => {\r\n        setData(json);\r\n      })\r\n      .catch((err: unknown) => {\r\n        console.error(err);\r\n        const errorMessage = err instanceof Error ? err.message : 'Errore nel caricamento dei dati.';\r\n        setError(errorMessage);\r\n      })\r\n      .finally(() => setLoading(false));\r\n  }, [date]);\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", flexDirection: \"column\", minHeight: \"100vh\", padding: \"20px\" }}>\r\n      \r\n      {/* Calendario sempre visibile in alto */}\r\n      <div style={{ alignSelf: \"center\", marginBottom: \"20px\" }}>\r\n       <input\r\n        type=\"date\"\r\n        value={date}\r\n        onChange={(e) => setDate(e.target.value)}\r\n        className=\"appearance-native p-2 text-base\"\r\n        max={today}\r\n      />\r\n      </div>\r\n\r\n      {/* Contenuto centrato nello spazio rimanente */}\r\n      <div style={{ flex: 1, display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\", gap: \"20px\" }}>\r\n        {loading && <h1>Loading...</h1>}\r\n        {error && <p style={{ color: \"red\" }}>{error}</p>}\r\n        {data && !loading && !error && (\r\n          <>\r\n            <h1>{data.title}</h1>\r\n\r\n            {data.media_type === \"image\" ? (\r\n              <div style={{ position: \"relative\", maxWidth: \"80%\", height: \"auto\" }}>\r\n                <Image \r\n                  src={data.url} \r\n                  alt={data.title} \r\n                  width={800}\r\n                  height={600}\r\n                  style={{ borderRadius: \"10px\", width: \"100%\", height: \"auto\" }}\r\n                  priority\r\n                />\r\n              </div>\r\n            ) : data.media_type === \"video\" ? (\r\n              <iframe \r\n                src={data.url} \r\n                title={data.title} \r\n                style={{ width: \"80%\", height: \"450px\", border: \"none\" }} \r\n                allowFullScreen\r\n              />\r\n            ) : (\r\n              <p>Media non disponibile</p>\r\n            )}\r\n\r\n            {data.explanation && <p style={{ maxWidth: \"600px\", textAlign: \"justify\" }}>{data.explanation}</p>}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAMe,SAAS;;IACtB,MAAM,QAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;IACpD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,mMAAQ,EAAS;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,mMAAQ,EAAsB;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mMAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,mMAAQ,EAAgB;IAElD,IAAA,oMAAS;0BAAC;YACR,IAAI,CAAC,MAAM;YAEX,WAAW;YACX,SAAS;YAET,MAAM,AAAC,aAAiB,OAAL,OAChB,IAAI;kCAAC,CAAA,MAAO,IAAI,IAAI;iCACpB,IAAI;kCAAC,CAAC;oBACL,QAAQ;gBACV;iCACC,KAAK;kCAAC,CAAC;oBACN,QAAQ,KAAK,CAAC;oBACd,MAAM,eAAe,eAAe,QAAQ,IAAI,OAAO,GAAG;oBAC1D,SAAS;gBACX;iCACC,OAAO;kCAAC,IAAM,WAAW;;QAC9B;yBAAG;QAAC;KAAK;IAET,qBACE,uNAAC;QAAI,OAAO;YAAE,SAAS;YAAQ,eAAe;YAAU,WAAW;YAAS,SAAS;QAAO;;0BAG1F,uNAAC;gBAAI,OAAO;oBAAE,WAAW;oBAAU,cAAc;gBAAO;0BACvD,cAAA,uNAAC;oBACA,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;oBACvC,WAAU;oBACV,KAAK;;;;;;;;;;;0BAKP,uNAAC;gBAAI,OAAO;oBAAE,MAAM;oBAAG,SAAS;oBAAQ,eAAe;oBAAU,gBAAgB;oBAAU,YAAY;oBAAU,KAAK;gBAAO;;oBAC1H,yBAAW,uNAAC;kCAAG;;;;;;oBACf,uBAAS,uNAAC;wBAAE,OAAO;4BAAE,OAAO;wBAAM;kCAAI;;;;;;oBACtC,QAAQ,CAAC,WAAW,CAAC,uBACpB;;0CACE,uNAAC;0CAAI,KAAK,KAAK;;;;;;4BAEd,KAAK,UAAU,KAAK,wBACnB,uNAAC;gCAAI,OAAO;oCAAE,UAAU;oCAAY,UAAU;oCAAO,QAAQ;gCAAO;0CAClE,cAAA,uNAAC,qKAAK;oCACJ,KAAK,KAAK,GAAG;oCACb,KAAK,KAAK,KAAK;oCACf,OAAO;oCACP,QAAQ;oCACR,OAAO;wCAAE,cAAc;wCAAQ,OAAO;wCAAQ,QAAQ;oCAAO;oCAC7D,QAAQ;;;;;;;;;;uCAGV,KAAK,UAAU,KAAK,wBACtB,uNAAC;gCACC,KAAK,KAAK,GAAG;gCACb,OAAO,KAAK,KAAK;gCACjB,OAAO;oCAAE,OAAO;oCAAO,QAAQ;oCAAS,QAAQ;gCAAO;gCACvD,eAAe;;;;;qDAGjB,uNAAC;0CAAE;;;;;;4BAGJ,KAAK,WAAW,kBAAI,uNAAC;gCAAE,OAAO;oCAAE,UAAU;oCAAS,WAAW;gCAAU;0CAAI,KAAK,WAAW;;;;;;;;;;;;;;;;;;;;AAMzG;GA5EwB;KAAA","debugId":null}}]
}